{"dependencies":[{"name":"/home/akiohayakawa/workspace/browser_editor/package.json","includedInParent":true,"mtime":1532065308636},{"name":"vueify/lib/insert-css","loc":{"line":1,"column":39}},{"name":"babel-runtime/helpers/toConsumableArray","loc":{"line":9,"column":34}},{"name":"babel-runtime/core-js/json/stringify","loc":{"line":13,"column":25}},{"name":"babel-runtime/core-js/object/assign","loc":{"line":17,"column":22}},{"name":"./EditorApplicationBar","loc":{"line":21,"column":36}},{"name":"./EditorMainContent","loc":{"line":25,"column":33}},{"name":"./../EditorWindowSize","loc":{"line":29,"column":32}},{"name":"./../misc/Definitions","loc":{"line":33,"column":27}},{"name":"./../currentGraph","loc":{"line":37,"column":28}},{"name":"./../EditorUtils","loc":{"line":41,"column":27}},{"name":"./../misc/ZoomInfo","loc":{"line":45,"column":24}},{"name":"vue/dist/vue.esm.js","loc":{"line":49,"column":22}},{"name":"./../editor/SDUApp","loc":{"line":53,"column":22}},{"name":"./../editor/tooltip","loc":{"line":57,"column":23}},{"name":"./../misc/jquery-ui-custom","loc":{"line":61,"column":30}}],"generated":{"js":"var e=require(\"vueify/lib/insert-css\").insert(\":root{--color-brand:#069;--color-system1:#f66;--color-system2:#ff0;--color-system3:#0ff;--color-gray0:#fff;--color-gray1:#f2f2f2;--color-gray2:#d8d8d8;--color-gray3:#b2b2b2;--color-gray4:#8c8c8c;--color-gray5:#262626;--color-ragular:var(--color-gray5);--color-sub-text:var(--color-gray4);--color-disabled-text:var(--color-gray3);--color-link-text:var(--color-brand);--color-warning-text:var(--color-system1);--color-layer1:#77b3d1;--color-layer2:#df7f6d;--color-layer3:#7a997a;--color-layer4:#ccaf93;--color-layer5:#ac99bf;--color-layer6:var(--color-gray5);--color-layer7:var(--color-gray4);--color-layer8:var(--color-gray3);--bar-height:40px}body{margin:0;padding:0;font-size:13px;overflow:hidden}.text-fixed-width,body{font-family:SSTUI-Roman}.app-col,.app-row{overflow:hidden;position:absolute}.app-row{left:0;right:0}.app-col{top:0;bottom:0}.app-scroll-x{overflow-x:auto}.app-scroll-y{overflow-y:auto}::-webkit-scrollbar{width:16px}::-webkit-scrollbar-thumb{background-color:var(--color-gray2);border:5px solid transparent;background-clip:padding-box;border-radius:16px}.pull-right{float:right;height:100%}.nnc-invoker{cursor:pointer}.nnc-invoker.navbar-el:hover{background-color:var(--color-brand)}img.nnc-invoker:hover{opacity:.5}img.nnc-enabled .nnc-enabled>img{opacity:1}span.nnc-enabled{color:var(--color-gray5);cursor:pointer}img.nnc-enabled.navbar-img{filter:brightness(2)}.nnc-disabled>img,img.nnc-disabled{opacity:.5}span.nnc-disabled{color:var(--color-gray4);cursor:default}img.nnc-disabled.navbar-img{filter:brightness(.5)}.title{font-family:SSTUI-Medium;height:40px;margin-top:12px;margin-left:16px}.navbar-el{float:left;height:40px;line-height:40px}.navbar-el.active{background-color:var(--color-brand)}.navbar-img{padding:8px;width:40px;height:40px}.navbar-tab{margin:0 16px;font-size:13px;color:var(--color-gray0)}.job-action,.network-action{width:100%;height:40px;border-bottom:solid 1px var(--color-gray2);white-space:no-wrap;overflow:hidden}.job-action-image,.network-action-image{width:24px;height:24px;margin:8px 4px;vertical-align:middle}.job-action-text,.network-action-text{font-family:SSTUI-Medium;font-size:13px;color:var(--color-gray5);margin:8px 4px;line-height:40px;position:relative;z-index:2}.network-action-text.action-toggle{margin-left:24px;margin-right:8px}.network-action-button{font-size:16px;background-color:var(--color-gray0);border-color:var(--color-gray0);margin-bottom:4px}.component.active{background-color:var(--color-gray0)}.component.active,.component:hover{color:var(--color-brand)}.component:focus{outline:none}.configs-area,.datasets-area,.jobs-area{overflow:visible}.layer-component{cursor:pointer}.center-content-bar{height:40px;border-bottom:solid 1px var(--color-gray2);line-height:40px;vertical-align:middle;padding:0 8px;overflow:hidden}\");!function(){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var e=m(require(\"babel-runtime/helpers/toConsumableArray\")),t=m(require(\"babel-runtime/core-js/json/stringify\")),o=m(require(\"babel-runtime/core-js/object/assign\")),r=m(require(\"./EditorApplicationBar\")),n=m(require(\"./EditorMainContent\")),a=m(require(\"./../EditorWindowSize\")),i=m(require(\"./../misc/Definitions\")),s=m(require(\"./../currentGraph\")),c=m(require(\"./../EditorUtils\")),l=m(require(\"./../misc/ZoomInfo\")),u=m(require(\"vue/dist/vue.esm.js\")),d=m(require(\"./../editor/SDUApp\")),p=m(require(\"./../editor/tooltip\")),f=m(require(\"./../misc/jquery-ui-custom\"));function m(e){return e&&e.__esModule?e:{default:e}}window.nnc=(0,o.default)(window.nnc,{editor:{activeTabName:\"EDIT\"}}),exports.default={components:{\"editor-application-bar\":r.default,\"main-content\":n.default},data:function(){return{project:{name:\"\"},isLoadEnd:!1,editor:window.nnc.editor,selection:{main:\"\",all:[],props:null},propMap:{},statistics:{active:null,values:[]},postingJob:!1,selectedComponent:\"\",modal:{},results:results,history:{commands:[],index:0,execute:function(e){switch(e.type){case\"push\":this.commands.length=this.index,this.commands.push(e.argument),this.index+=1;break;case\"push-and-execute\":this.commands.length=this.index,this.commands.push(e.argument),this.execute({type:\"redo\"});break;case\"undo\":this.index>0&&this.commands[--this.index].undo();break;case\"redo\":var t=void 0;return this.index<this.commands.length&&(t=this.commands[this.index++].exec()),t}}},zoomInfo:(e=function(e){var t=this,o=l.default[e];this.percentages=o.percentages,this.percentage=100,this.callback=o.callback,this.zoom=function(e){t.percentage=e,t.callback(e/100)}},{networkGraph:new e(\"Editor\"),learningCurve:new e(\"Learning Curve\"),tradeOffGraph:new e(\"Trade-off Graph\")})};var e},computed:{jobsInQueue:function(){return this.results.data.some(c.default.is_active)},historyInfo:function(){var e=this.history.index,t=this.history.commands,o=function(e){return(e||{name:function(){return null}}).name()};return{undo:{enabled:0<e,name:o(t[e-1])},redo:{enabled:e<t.length,name:o(t[e])}}}},methods:{makeConfiguration:function(e){switch(e){case\"train\":case\"scheduleTrain\":case\"evaluate\":return c.default.serialize_configuration();case\"retrainNotInPlace\":return c.default.serialize_configuration(JSON.parse(ResultsUtils.getActiveResult().configuration).networks);default:throw e}},onTriggeredJob:function(r){var n,a=this;this.postingJob=!0,this.isLoadEnd=!1;var s=function(){a.postingJob=!1,a.isLoadEnd=!0},l=function(e,t,r){nnc.editor.activeTabName=\"TRAINING\",results.data.unshift((0,o.default)({type:t,status:\"queued\",active:!1,logfile:\"\",job_name:r,evaluation_logfile:\"\",evaluate_status:\"\",confusionMatrix:{selectedModal:\"\",matrices:\"\"},current_epoch:void 0},e)),ResultsUtils.changeActive(e.job_id),ResultsUtils.showResultContent(e.job_id)};switch(r){case\"train\":case\"scheduleTrain\":case\"retrainNotInPlace\":var u=this.makeConfiguration(r);c.default.checkErrors(u,function(e){if(e)a.popup(\"Errors in graph\",e,[{name:\"OK\"}]),s();else{var o=c.default.getNewJobName();c.default.callApi({url:i.default.CORE_API.usersUrl()+\"/projects/\"+nnc.editor.projectId+\"/jobs\",type:\"post\",data:(0,t.default)({configuration:(0,t.default)(u),this_will_be_deprecated_in_day2:exportProject(u,!0),type:\"train\",job_name:o}),contentType:\"application/json\",dataType:\"json\"},function(e){l(e,\"train\",o)},c.default.showPopupIfJobExceedsTimeLimitOrHandleAsDefaultFailureFor(\"train\"),s)}});break;case\"stopTrain\":(n=$).when.apply(n,(0,e.default)(ResultsUtils.getJobsInProgress().map(function(e){var t=$.Deferred();return c.default.callApi({url:i.default.CORE_API.usersUrl()+\"/projects/\"+nnc.editor.projectId+\"/jobs/\"+e.job_id+\"/suspend\",type:\"POST\",dataType:\"json\"},void 0,c.default.handleXhrFailure,function(){return t.resolve()}),t}))).always(s);break;case\"evaluate\":var d=ResultsUtils.getActiveResult().job_id,p=configs.data.filter(function(e){return\"Executor\"===e.type})[0],f=(p||{}).dataset,m=datasets.data.find(function(e){return e.name===f}),h=(m||{}).id;if(h)c.default.callApi({url:i.default.CORE_API.usersUrl()+\"/projects/\"+nnc.editor.projectId+\"/jobs/\"+d+\"/resume\",type:\"POST\",data:(0,t.default)({type:\"evaluate\",evaluation_dataset_id:h}),contentType:\"application/json\",dataType:\"json\"},function(e){a.fetchResults(function(){var t=results.data.find(function(e){return e.job_id===d});(0,o.default)(t,e),ResultsUtils.setPollingForEvaluateResult(t),ResultsUtils.changeActive(t.job_id),nnc.editor.activeTabName=\"EVALUATION\"})},c.default.showPopupIfJobExceedsTimeLimitOrHandleAsDefaultFailureFor(\"evaluate\"),s);else{var g=void 0;g=p?m?'Dataset \"'+f+'\" has not been linked.':'Dataset \"'+f+'\" is not found, specified in \"'+p.name+'\".':'No \"Executor\" defined.',this.popup(\"Error in CONFIG\",g,[{name:\"OK\"}]),s()}break;case\"profile\":var b=c.default.getNewJobName();c.default.callApi({url:i.default.CORE_API.usersUrl()+\"/projects/\"+nnc.editor.projectId+\"/jobs\",type:\"post\",data:(0,t.default)({configuration:(0,t.default)(c.default.serialize_configuration()),this_will_be_deprecated_in_day2:exportProject(c.default.serialize_configuration(),!0),type:\"profile\",job_name:b}),contentType:\"application/json\",dataType:\"json\"},function(e){l(e,\"profile\",b)},c.default.showPopupIfJobExceedsTimeLimitOrHandleAsDefaultFailureFor(\"profile\"),s)}},initPropMap:function(e){e.forEach(function(e){this.onAddedLayer(e)},this),this._updateSelectedLayer()},onAddedLayer:function(e){this.propMap[e.name()]={type:e.type(),color:\"#\"+e.component().color.substring(2),props:e.typedProperties().map(function(e){return function(t){return{name:t.name,type:function(e){if(!e.editable)return\"immutable\";if(\"Name\"===e.name)return\"name\";switch(e.type){default:return\"text\";case\"Boolean\":return\"bool\";case\"Option\":return\"select\"}}(t),choice:t.option,computed:\"Name\"===t.name?e.name():e.getUserInputProperty(t.name),value:e.getUserInputProperty(t.name),error:(e.errors().find(function(e){return e.property===t.name})||{}).message}}}(e))}},onDeletedLayer:function(e){delete this.propMap[e]},onRenamed:function(e){var t=this,o=this.propMap;e.map(function(e){return{name:e.to,prop:o[e.from]}}).forEach(function(e){o[e.name]=e.prop;var t=e.prop.props.find(function(e){return\"Name\"===e.name});t.value=e.name,t.computed=e.name});var r=e.map(function(e){return e.from}),n=e.map(function(e){return e.to});r.filter(function(e){return!n.includes(e)}).forEach(function(e){return delete o[e]});var a=e.find(function(e){return e.from===t.selection.main});a&&(this.selection.main=a.to),this._updateSelectedLayer()},onComputedProperties:function(e){var t=this.propMap;e.forEach(function(e){var o=(t[e.name]||{}).props||[],r=function(e){return o.find(function(t){return t.name===e})||{}},n=e.properties;for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r(a).computed=n[a])}),this._updateSelectedLayer()},onChangedProperty:function(e,t,o){this.propMap[e].props.find(function(e){return e.name===t}).value=o,this.propMap[e].props.find(function(e){return e.name===t}).computed=o,this.selection.props=this.propMap[this.selection.main]},onComputedErrors:function(e){var t=this.propMap;for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&t[o].props.forEach(function(e){return delete e.error});e.forEach(function(e){var o,r=(t[e.layer]||{}).props||[];(o=e.property,r.find(function(e){return e.name===o})||{}).error=e.message}),this._updateSelectedLayer()},onChangedSelection:function(e){this.selection={main:(e.focused()||{name:function(){return\"\"}}).name(),all:e.apply(function(e){return e.name()})},this._updateSelectedLayer()},_updateSelectedLayer:function(){var e=this.propMap[this.selection.main];u.default.set(this.selection,\"props\",e?(0,o.default)({},e):null)},updateStatistics:function(e){var t=this.statistics;t.values=e,this.changeActiveStatistics(e[0]||t.active)},changeActiveStatistics:function(e){e&&(this.statistics.active=e,s.default.layers().forEach(function(t){return t.updateStatistics(e)}))},popup:function(e,t,r){var n=this;u.default.set(this,\"modal\",{title:e,message:t,actions:r.map(function(e){return(0,o.default)({name:e.name,action:function(){u.default.delete(n.modal,\"show\"),(e.action||function(){})()}})}),show:!0})},prompt:function(e,t,r){var n=this;u.default.set(this,\"modal\",{title:e,initialValue:t,actions:r.map(function(e){return(0,o.default)({name:e.name,action:function(t){u.default.delete(n.modal,\"show\"),(e.action||function(e){})(t)}})}),show:!0})},fetchResults:function(e,t){c.default.callApi({url:i.default.CORE_API.usersUrl()+\"/projects/\"+c.default.getProjectId()+\"/jobs?offset=\"+(t||0)+\"&limit=10\",type:\"get\",dataType:\"json\"},function(t){results.merge(t.jobs),results.metadata.total=t.metadata.total,(e||function(){})()},c.default.handleXhrFailure)},setPollingForFetchResults:function(){var e=this;!function t(){return e.fetchResults(function(){return setTimeout(t,1e4)})}()},operateZooming:function(e){this.zoomInfo[{Editor:\"networkGraph\",\"Learning Curve\":\"learningCurve\",\"Trade-off Graph\":\"tradeOffGraph\"}[e.name]].zoom(e.percentage)}},mounted:function(){window.nnc.components={Editor:this};a.default.init(),a.default.bind(),$.ajaxSetup({headers:{\"X-Requested-With\":\"XMLHttpRequest\"},xhrFields:{withCredentials:!0}}),nnc.editor.projectId=c.default.getProjectId(),nnc.params=c.default.getParams(),this.isLoadEnd=!0,(0,f.default)(),(0,d.default)(),(0,p.default)()}}}(),module.exports.__esModule&&(module.exports=module.exports.default);var t=\"function\"==typeof module.exports?module.exports.options:module.exports;t.render=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o(\"div\",[o(\"editor-application-bar\",{attrs:{loaded:e.isLoadEnd}}),e._v(\" \"),o(\"main-content\",{attrs:{\"active-tab-name\":e.editor.activeTabName.toLowerCase(),\"selected-component\":e.selectedComponent,selection:e.selection,\"jobs-in-queue\":e.jobsInQueue,\"posting-job\":e.postingJob,statistics:e.statistics,\"history-info\":e.historyInfo,\"zoom-info\":e.zoomInfo},on:{renamed:e.onRenamed,\"selected-component\":function(t){return e.selectedComponent=t},\"trigger-job\":e.onTriggeredJob,\"fetch-results\":e.fetchResults,statistics:e.changeActiveStatistics,history:function(t){return e.history.execute(t)},zoom:e.operateZooming}}),e._v(\" \"),e.isLoadEnd?e._e():o(\"nnc-modal-loading\"),e._v(\" \"),e.modal.show?o(\"nnc-dialog\",{attrs:{data:e.modal}}):e._e()],1)},t.staticRenderFns=[];"},"hash":"a638acc539cb88504a7e8a0cf65e9175","cacheData":{"env":{}}}