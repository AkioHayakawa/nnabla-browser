{"dependencies":[{"name":"/home/akiohayakawa/workspace/browser_editor/package.json","includedInParent":true,"mtime":1532065308636},{"name":"/home/akiohayakawa/workspace/browser_editor/node_modules/csvtojson/package.json","includedInParent":true,"mtime":1531826268619},{"name":"stream","loc":{"line":16,"column":23}},{"name":"./Parameters","loc":{"line":17,"column":27}},{"name":"./ParseRuntime","loc":{"line":18,"column":29}},{"name":"bluebird","loc":{"line":19,"column":41}},{"name":"./ProcessorLocal","loc":{"line":20,"column":31}},{"name":"./Result","loc":{"line":21,"column":23}},{"name":"fs","loc":{"line":66,"column":25}}],"generated":{"js":"\"use strict\";var e=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,\"__esModule\",{value:!0});var r=require(\"stream\"),n=require(\"./Parameters\"),o=require(\"./ParseRuntime\"),i=t(require(\"bluebird\")),s=require(\"./ProcessorLocal\"),u=require(\"./Result\"),c=function(t){function c(e,r){void 0===r&&(r={});var i=t.call(this,r)||this;return i.options=r,i.params=n.mergeParams(e),i.runtime=o.initParseRuntime(i),i.result=new u.Result(i),i.processor=new s.ProcessorLocal(i),i.once(\"error\",function(e){setTimeout(function(){i.result.processError(e),i.emit(\"done\",e)},0)}),i.once(\"done\",function(){i.processor.destroy()}),i}return e(c,t),c.prototype.preRawData=function(e){return this.runtime.preRawDataHook=e,this},c.prototype.preFileLine=function(e){return this.runtime.preFileLineHook=e,this},c.prototype.subscribe=function(e,t,r){return this.parseRuntime.subscribe={onNext:e,onError:t,onCompleted:r},this},c.prototype.fromFile=function(e,t){var r=this,n=require(\"fs\");return n.exists(e,function(o){o?n.createReadStream(e,t).pipe(r):r.emit(\"error\",new Error(\"File does not exist. Check to make sure the file path to your csv is correct.\"))}),this},c.prototype.fromStream=function(e){return e.pipe(this),this},c.prototype.fromString=function(e){e.toString();var t=new r.Readable,n=0;return t._read=function(t){if(n>=e.length)this.push(null);else{var r=e.substr(n,t);this.push(r),n+=t}},this.fromStream(t)},c.prototype.then=function(e,t){var r=this;return new i.default(function(n,o){r.parseRuntime.then={onfulfilled:function(t){n(e?e(t):t)},onrejected:function(e){t?n(t(e)):o(e)}}})},Object.defineProperty(c.prototype,\"parseParam\",{get:function(){return this.params},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,\"parseRuntime\",{get:function(){return this.runtime},enumerable:!0,configurable:!0}),c.prototype._transform=function(e,t,r){var n=this;this.processor.process(e).then(function(e){if(e.length>0)return n.runtime.started=!0,n.result.processResult(e)}).then(function(){n.emit(\"drained\"),r()},function(e){n.runtime.hasError=!0,n.runtime.error=e,n.emit(\"error\",e),r()})},c.prototype._flush=function(e){var t=this;this.processor.flush().then(function(e){if(e.length>0)return t.result.processResult(e)}).then(function(){t.processEnd(e)},function(r){t.emit(\"error\",r),e()})},c.prototype.processEnd=function(e){this.result.endProcess(),this.emit(\"done\"),e()},Object.defineProperty(c.prototype,\"parsedLineNumber\",{get:function(){return this.runtime.parsedLineNumber},enumerable:!0,configurable:!0}),c}(r.Transform);exports.Converter=c;"},"hash":"c7cbf9da22a56bcfb855fe725e046a91","cacheData":{"env":{}}}