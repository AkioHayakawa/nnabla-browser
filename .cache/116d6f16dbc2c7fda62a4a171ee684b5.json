{"dependencies":[{"name":"/home/akiohayakawa/workspace/browser_editor/package.json","includedInParent":true,"mtime":1532065308636},{"name":"/home/akiohayakawa/workspace/browser_editor/node_modules/csvtojson/package.json","includedInParent":true,"mtime":1531826268619},{"name":"./getEol","loc":{"line":6,"column":39}},{"name":"./util","loc":{"line":7,"column":21}}],"generated":{"js":"\"use strict\";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,\"__esModule\",{value:!0});var t=e(require(\"./getEol\")),i=require(\"./util\"),r=[\",\",\"|\",\"\\t\",\";\",\":\"],s=function(){function e(e){this.conv=e,this.cachedRegExp={},this.delimiterEmitted=!1,this._needEmitDelimiter=void 0,this.quote=e.parseParam.quote,this.trim=e.parseParam.trim,this.escape=e.parseParam.escape}return Object.defineProperty(e.prototype,\"needEmitDelimiter\",{get:function(){return void 0===this._needEmitDelimiter&&(this._needEmitDelimiter=this.conv.listeners(\"delimiter\").length>0),this._needEmitDelimiter},enumerable:!0,configurable:!0}),e.prototype.parse=function(e){if(0===e.length||this.conv.parseParam.ignoreEmpty&&0===e.trim().length)return{cells:[],closed:!0};var t=this.quote,i=this.trim;this.escape;(this.conv.parseRuntime.delimiter instanceof Array||\"auto\"===this.conv.parseRuntime.delimiter.toLowerCase())&&(this.conv.parseRuntime.delimiter=this.getDelimiter(e)),this.needEmitDelimiter&&!this.delimiterEmitted&&(this.conv.emit(\"delimiter\",this.conv.parseRuntime.delimiter),this.delimiterEmitted=!0);var r=this.conv.parseRuntime.delimiter,s=e.split(r);if(\"off\"===t){if(i)for(var n=0;n<s.length;n++)s[n]=s[n].trim();return{cells:s,closed:!0}}return this.toCSVRow(s,i,t,r)},e.prototype.toCSVRow=function(e,t,r,s){for(var n=[],o=!1,a=\"\",h=0,u=e.length;h<u;h++){var l=e[h];!o&&t&&(l=i.trimLeft(l));var p=l.length;if(o)this.isQuoteClose(l)?(o=!1,a+=s+(l=l.substr(0,p-1)),a=this.escapeQuote(a),t&&(a=i.trimRight(a)),n.push(a),a=\"\"):a+=s+l;else{if(2===p&&l===this.quote+this.quote){n.push(\"\");continue}if(this.isQuoteOpen(l)){if(l=l.substr(1),this.isQuoteClose(l)){l=l.substring(0,l.lastIndexOf(r)),l=this.escapeQuote(l),n.push(l);continue}if(-1!==l.indexOf(r)){for(var c=0,m=0,d=l;m<d.length;m++){d[m]===r&&c++}if(c%2==1){t&&(l=i.trimRight(l)),n.push(r+l);continue}o=!0,a+=l;continue}o=!0,a+=l;continue}t&&(l=i.trimRight(l)),n.push(l)}}return{cells:n,closed:!o}},e.prototype.getDelimiter=function(e){var t;if(\"auto\"===this.conv.parseParam.delimiter)t=r;else{if(!(this.conv.parseParam.delimiter instanceof Array))return this.conv.parseParam.delimiter;t=this.conv.parseParam.delimiter}var i=0,s=\",\";return t.forEach(function(t){var r=e.split(t).length;r>i&&(s=t,i=r)}),s},e.prototype.isQuoteOpen=function(e){var t=this.quote,i=this.escape;return e[0]===t&&(e[1]!==t||e[1]===i&&(e[2]===t||2===e.length))},e.prototype.isQuoteClose=function(e){var t=this.quote,r=this.escape;this.conv.parseParam.trim&&(e=i.trimRight(e));for(var s=0,n=e.length-1;e[n]===t||e[n]===r;)n--,s++;return s%2!=0},e.prototype.escapeQuote=function(e){var t=\"es|\"+this.quote+\"|\"+this.escape;void 0===this.cachedRegExp[t]&&(this.cachedRegExp[t]=new RegExp(\"\\\\\"+this.escape+\"\\\\\"+this.quote,\"g\"));var i=this.cachedRegExp[t];return e.replace(i,this.quote)},e.prototype.parseMultiLines=function(e){for(var r=[],s=\"\";e.length;){var n=s+e.shift(),o=this.parse(n);0===o.cells.length&&this.conv.parseParam.ignoreEmpty||(o.closed||this.conv.parseParam.alwaysSplitAtEOL?(this.conv.parseRuntime.selectedColumns?r.push(i.filterArray(o.cells,this.conv.parseRuntime.selectedColumns)):r.push(o.cells),s=\"\"):s=n+(t.default(n,this.conv.parseRuntime)||\"\\n\"))}return{rowsCells:r,partial:s}},e}();exports.RowSplit=s;"},"hash":"aa7235cd9b2a5e50972ae0525d52a8c6","cacheData":{"env":{}}}