{"dependencies":[{"name":"/home/akiohayakawa/workspace/browser_editor/package.json","includedInParent":true,"mtime":1532065308636},{"name":"./../currentGraph","loc":{"line":1,"column":18}},{"name":"./../misc/Definitions","loc":{"line":2,"column":24}},{"name":"./SDNLayer","loc":{"line":3,"column":18}},{"name":"./SDNLink","loc":{"line":4,"column":17}}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require(\"./../currentGraph\"),n=l(e),t=require(\"./../misc/Definitions\"),r=l(t),a=require(\"./SDNLayer\"),i=l(a),u=require(\"./SDNLink\"),o=l(u);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){var e=void 0;return{copy:function(){return document.execCommand(\"copy\")},_copy:function(t){t.preventDefault();var r,a,i=(r=n.default.selection.layer.members(),a=n.default.links().filter(function(e){return function(n){var t=n.source().layer(),r=n.destination().layer();return e.includes(t)&&e.includes(r)}}(r)),\"sDeepNetworkFragment:v1\\n\"+JSON.stringify({nodes:r.map(function(e){return e.serialize()}),links:a.map(function(e){return e.serialize()})},null,\"  \"));t.clipboardData.setData(\"text\",i),e=i},paste:function(t){[t,e].find(function(e){return function(e){var t=e?e.split(\"\\n\"):[void 0];if(\"sDeepNetworkFragment:v1\"===t[0]){t.splice(0,1);var a=JSON.parse(t.join(\"\\n\")),u=n.default.layers(),l=n.default.selection.layer.focused(),c=n.default.selection.layer.apply(function(e){return e.serialize()}),f=l?l.serialize():null;n.default.selection.clear();var s=u.map(function(e){return e.getPosition().x}),d=Math.max.apply(null,s.concat(0))+r.default.EDIT.LAYER.BOUNDING_BOX.WIDTH,p=Math.min.apply(null,a.nodes.map(function(e){return e.x})),m=a.nodes.map(function(e){var n=Object.assign({},e,{x:e.x+d-p});return{layer:new i.default(n,window.svgArea),name:e.name}}),y=function(e){return m.find(function(n){return n.name===e}).layer},v=a.links.map(function(e){return y(e.from_node).getOutConnector(e.from_name).linkTo(y(e.to_node).getInConnector(e.to_name)).serialize()}),g=m.map(function(e){return e.layer.serialize()}),h=function(e){if(n.default.selection.change(e),e.length){var t=e[e.length-1];n.default.selection.layer.focus(t)}};return n.default.selection.layer.clear(),h(m.map(function(e){return e.layer})),window.nnc.components.Editor.history.execute({type:\"push\",argument:{name:function(){return\"Paste\"},exec:function(){n.default.selection.layer.clear();var e=g.map(i.default.deserialize);v.forEach(o.default.deserialize),h(e)},undo:function(){if(n.default.selection.layer.clear(),g.map(i.default.findObjectBySerialized).forEach(function(e){return e.remove()}),c.map(i.default.findObjectBySerialized).forEach(function(e){n.default.selection.layer.insert(e)}),f){var e=i.default.findObjectBySerialized(f);n.default.selection.layer.focus(e)}}}}),!0}return!1}(e)},this)||console.warn(\"Nothing is copied. Please copy layers and try again.\")},cut:function(){return document.execCommand(\"cut\")}}}();window.clipboard=c,exports.default=c;"},"hash":"a9bce6abdfc2705963cc37d660402d3d","cacheData":{"env":{}}}